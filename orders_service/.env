##############################################
# .env — заполнен и помечен по соответствию с config.py (Settings)
# Правила пометок:
#  - "используется в config.py: Settings.<поле>" — переменная читается напрямую в Settings
#  - "не используется в config.py" — переменная есть для других частей проекта/Compose
#  - "default в config.py: <значение>" — значение по умолчанию в коде, если .env не задан
##############################################

########## Postgres (сборка URL) ##########
DB_USER=user                    # не используется в config.py (вспомогательная для DATABASE_URL)
DB_PASSWORD=pass                # не используется в config.py (вспомогательная для DATABASE_URL)
DB_NAME=orders_db               # не используется в config.py (вспомогательная для DATABASE_URL)
DB_HOST=orders_db               # не используется в config.py (вспомогательная для DATABASE_URL)
DB_PORT=5432                    # не используется в config.py (вспомогательная для DATABASE_URL)

# Используется в Settings.DATABASE_URL
# default в config.py: postgresql+asyncpg://user:pass@orders_db:5432/orders_db
DATABASE_URL=postgresql+asyncpg://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}   # используется в config.py: Settings.DATABASE_URL

########## Postgres (контейнер БД) ##########
POSTGRES_USER=user              # не используется в config.py (нужен для образа postgres)
POSTGRES_PASSWORD=pass          # не используется в config.py
POSTGRES_DB=orders_db           # не используется в config.py

########## Redis ##########
REDIS_HOST=auth_redis           # не используется в config.py
REDIS_PORT=6379                 # не используется в config.py
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}   # не используется в config.py

########## JWT / Аутентификация ##########
# Используются в Settings для подписания JWT
# default в config.py: SECRET_KEY=dev_secret_change_me, ALGORITHM=HS256
SECRET_KEY=a21679097c1ba42e9bd06eea239cdc5bf19b249e87698625cba5e3572f005544  # используется в config.py: Settings.SECRET_KEY
ALGORITHM=HS256                                                                  # используется в config.py: Settings.ALGORITHM

# Параметры TTL токенов — в данном Settings не читаются
ACCESS_TOKEN_EXPIRE_MINUTES=30   # не используется в config.py
REFRESH_TOKEN_EXPIRE_DAYS=7      # не используется в config.py

########## Сервисные URL (внутри docker compose) ##########
# Оба читаются Settings как URL других микросервисов
# default в config.py: CATALOG_SERVICE_URL=http://catalog_service:8000
# default в config.py: AUTH_SERVICE_URL=http://auth_service:8000
AUTH_SERVICE_URL=http://auth_service:8000     # используется в config.py: Settings.AUTH_SERVICE_URL
CATALOG_SERVICE_URL=http://catalog_service:8000  # используется в config.py: Settings.CATALOG_SERVICE_URL

########## Kafka ##########
# Оба читаются Settings
# default в config.py: KAFKA_BROKER=kafka:9092, KAFKA_ORDER_TOPIC=order_events
KAFKA_BROKER=kafka:9092          # используется в config.py: Settings.KAFKA_BROKER
KAFKA_ORDER_TOPIC=order_events   # используется в config.py: Settings.KAFKA_ORDER_TOPIC

########## Валюта ##########
# Оба читаются Settings
# default в config.py: CURRENCY_BASE=USD, TARGET_CURRENCY=RUB
CURRENCY_BASE=USD                # используется в config.py: Settings.CURRENCY_BASE
TARGET_CURRENCY=RUB              # используется в config.py: Settings.TARGET_CURRENCY
